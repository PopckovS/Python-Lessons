Память в Python __sizeof__()  sys.getsizeof()
---

У каждого обьекта в Python есть метод `__sizeof__()` этот метод показывает 
сколько памяти затрачивает питон в байтах на содержание этого обьекта, но этот 
метод выводит память самого обьекта, по мимо этого метода есть метод модуля 
`sys.getsizeof()` торый выводит и память обьекта и дополнительно количество 
памяти которе сборщик мусора затрачивает на хранение количества ссылок на этот 
обьект, и потому получается больше:

```python
    a = [1, 2, 3]
    print('sys.getsizeof(a) = ', sys.getsizeof(a))
    print('a.__sizeof__() = ', a.__sizeof__())

    # Вывод
    # sys.getsizeof(a) =  88
    # a.__sizeof__() =  64
```

Также есть и другая проблема, когда у нас есть некий обьект, чтобы получить от 
него обьем занимаемой им памяти, оба метода дадут лишь обьем памяти самого 
обьекта, но не обьектов вложенных в него, таким образом мы получаем не весь 
обьем памяти что тратится на содержание обьектов.

```python
    a = [1, 2, [Point(10, 10), Point(10, 10), Point(10, 10)]]
    b = [1, 2, 3]

    # // Вывод для обоих обьектов
    
    # sys.getsizeof(obj) =  88
    # obj.__sizeof__() =  64

    # sys.getsizeof(obj) =  88
    # obj.__sizeof__() =  64
```

У нас етсь 2 списка, применение обоих методов даст один и тот же результат,
память только самого списка,о не его вложенных обьектов, обы получить всю
память затрачиваемую на хранение со всей вложенностью, используется модуль
`pympler`

### Модуль pympler
Этот модуль используется для дебага и трекинга, его подмодуль `asizeof`
имеет одноименный метод `asizeof()` который возвращает всю память что тратится 
на хранение всех обьектов со всей вложенностью. 

```python
    from pympler import asizeof

    a = [1, 2, [Point(10, 10), Point(10, 10), Point(10, 10)]]
    b = [1, 2, 3]

    asizeof.asizeof(a)
    asizeof.asizeof(b)

    # Вывод в байтах
    # a = 184
    # b = 888
```