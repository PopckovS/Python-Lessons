Фреймворк Django №6
---
---

Подключение статических файлов `css` и `Js`
---
При подключении статических файлов типа `css` и `js`, работа с сайтом
может идти в 2 режимах, что определяется в настройках `DEBUG` тестовый
и боевой режим.

Статические файлы находятся в директориях `static` внутри каждого из
приложений, то есть у каждого приложения есть своя директория `static`
со своими статическими файлами.

```
coolsite /
    static /
        Статичекий файлы для боевого
    women /
        migrations
        templates  
        admin.py  
        apps.py  
        __init__.py  
        models.py    
        tests.py  
        urls.py  
        views.py
        static  /
            Статические файлы для отладки
    polls /
        migrations
        templates  
        admin.py  
        apps.py  
        __init__.py  
        models.py    
        tests.py  
        urls.py  
        views.py
        static / 
            Статические файлы для отладки
```

В режиме отладки, используются `static` директории что находятся внутри 
приложений, в боевом режиме используется `static` что находится в корне 
сайта.

Создает папку `static` в корне сайта, где будет находиться все статические
файлы для боевой работы сайта, можно следующей командой.
```
python3 manage.py collectstatic
```
Эта команда проходится по все внутренним `static` директориям и собирает
все статические файлы.

Для работы этой команды, потребуется определить 3 константы в файле 
настроек:

```python
# URL по которому будут доступны статические файлы, подобно тому как
# мы определяли MEDIA_URL для просмотра загруженных файлов 
STATIC_URL = '/static/'

# Сама папка static в корне сайта, куда будут помещены собранные 
# файлы, можно встретить 2 варианта
STATIC_ROOT = BASE_DIR / 'static'
# STATIC_ROOT = os.path.join(BASE_DIR, 'static')

# по дефолту сборка происходит из static внутри приложений, тут можно
# определить дополнительные пути для сборки статических файлов
STATICFILES_DIRS = []
```
---
Помещать статические файлы следует по той же структуре, что и шаблоны

```
coolsite /
    women /
        migrations  
        admin.py  
        apps.py  
        __init__.py  
        models.py 
        urls.py  
        views.py
        static  /
            women /
                css /
                    file.css
                js /
                    file.js
                img /
                    file.png
```

Когда будет выполнена сборка проекта командой 
`python3 manage.py collectstatic` то все статический файлы будут
собраны в главный `static`

---

В шаблоны что будут подключать статические файлы, следует загрузить 
специальную предопределенную переменную шаблона при помощи такой
конструкции `{% load static %}`

```html
{% load static %}
<link type="text/css" href="{% static 'women/css/styles.css' %}" rel="stylesheet" />
<link rel="shortcut icon" href="{% static 'women/img/main.ico' %}" type="image/x-icon"/>
```

С помощью такого указания пути, и происходит определение местоположения
статических файлов, в зависимости от режима отладка / боевой, переменная
`static` будет указывать либо на локальный `static`, либо на собранный
глобальный `static`

```html
href="{% static 'women/css/styles.css' %}"
```

---





